<!-- MODAL PARA EDITAR PERFIL -->
<div id="edit-profile-modal" class="fixed inset-0 bg-black/50 dark:bg-black/70 hidden z-50 flex items-center justify-center p-4">
  <div class="bg-white dark:bg-neutral-800 rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto border border-neutral-200 dark:border-neutral-700">
    
    <!-- Encabezado del modal -->
    <div class="sticky top-0 flex items-center justify-between p-6 border-b border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800">
      <h2 class="text-xl font-bold text-neutral-900 dark:text-neutral-100">Editar Perfil</h2>
      <button id="close-edit-modal" type="button" class="text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300 p-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors">
        <span class="material-symbols-outlined text-xl">close</span>
      </button>
    </div>

    <!-- Contenido del modal -->
    <form id="edit-profile-form" class="p-6 space-y-4">
      
      <!-- Nombre -->
      <div>
        <label for="modal-nombre" class="block text-sm font-semibold mb-2 text-neutral-900 dark:text-neutral-100">
          Nombre completo
          <span class="text-red-500">*</span>
        </label>
        <input type="text" 
               id="modal-nombre"
               name="nombre" 
               value="{{ session.get('usuario_nombre', '') }}"
               placeholder="Tu nombre"
               required
               class="w-full px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 dark:bg-neutral-700 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all">
      </div>

      <!-- Correo -->
      <div>
        <label for="modal-email" class="block text-sm font-semibold mb-2 text-neutral-900 dark:text-neutral-100">
          Correo electrónico
          <span class="text-gray-400 font-normal text-xs">(opcional)</span>
        </label>
        <input type="email" 
               id="modal-email"
               name="email" 
               value="{{ session.get('usuario_correo', '') }}"
               placeholder="tu.correo@ejemplo.com"
               class="w-full px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 dark:bg-neutral-700 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all">
        <p class="text-xs text-neutral-600 dark:text-neutral-400 mt-1">Formato: ejemplo@dominio.com</p>
        <div id="modal-email-error" class="text-xs text-red-600 dark:text-red-400 mt-1 hidden"></div>
      </div>

      <!-- Teléfono -->
      <div>
        <label for="modal-numero_celular" class="block text-sm font-semibold mb-2 text-neutral-900 dark:text-neutral-100">
          Número de celular
          <span class="text-gray-400 font-normal text-xs">(opcional)</span>
        </label>
        <input type="tel" 
               id="modal-numero_celular"
               name="numero_celular" 
               value="{{ session.get('usuario_numero_celular', '') }}"
               placeholder="+56 9 1234 5678"
               class="w-full px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 dark:bg-neutral-700 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all"
               inputmode="tel">
        <p class="text-xs text-neutral-600 dark:text-neutral-400 mt-1">Formato: +56 9 1234 5678 o +56 22 1234 5678</p>
        <div id="modal-telefono-error" class="text-xs text-red-600 dark:text-red-400 mt-1 hidden"></div>
      </div>

      <!-- Mensaje de estado -->
      <div id="modal-status-message" class="hidden p-3 rounded-lg text-sm font-medium"></div>

    </form>

    <!-- Botones de acción -->
    <div class="flex gap-3 p-6 border-t border-neutral-200 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900/50">
      <button type="button" id="submit-edit-modal" 
              class="flex-1 bg-primary-600 hover:bg-primary-700 text-white font-semibold py-2 px-4 rounded-lg transition-all duration-200 flex items-center justify-center gap-2">
        <span class="material-symbols-outlined">save</span>
        Guardar
      </button>
      <button type="button" id="cancel-edit-modal" 
              class="flex-1 bg-neutral-200 dark:bg-neutral-700 hover:bg-neutral-300 dark:hover:bg-neutral-600 text-neutral-900 dark:text-neutral-100 font-semibold py-2 px-4 rounded-lg transition-all duration-200 flex items-center justify-center gap-2">
        <span class="material-symbols-outlined">close</span>
        Cancelar
      </button>
    </div>

  </div>
</div>


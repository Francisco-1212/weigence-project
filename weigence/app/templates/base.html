<!DOCTYPE html>
<html lang="es" class="{{ 'dark' if session.get('theme') == 'dark' else '' }}">
<head>
  <meta charset="utf-8"/>
  <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
  <link as="style" href="https://fonts.googleapis.com/css2?display=swap&family=Inter:wght@400;500;700;900&family=Noto+Sans:wght@400;500;700;900" onload="this.rel='stylesheet'" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
  <title>{% block title %}Weigence{% endblock %}</title>
  <link href="data:image/x-icon;base64," rel="icon" type="image/x-icon"/>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/output.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/ia-recommendation.css') }}">
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Weigence - Sistema de Gestión de Inventario y Ventas"/>
  <meta name="author" content="Weigence Team"/>
</head>
<body class="!bg-[var(--bg-light)] dark:!bg-[var(--theme-bg-dark)] text-[var(--text-light)] font-[Inter,'Noto Sans',sans-serif]">
  <div class="flex min-h-screen w-full overflow-hidden ">
    <!-- Sidebar -->
    {% block sidebar %}{% endblock %}

  <!-- Contenedor derecho -->
  <div class="flex flex-col flex-1 min-w-0 pl-64">
      <!-- Header -->
      <header class="sticky top-0 z-50 bg-[var(--bg-light)] dark:bg-[var(--theme-bg-dark)] border-b border-[var(--border-light)] dark:border-[var(--border-dark)] shadow-soft">
        {% block top %}{% endblock %}
      </header>

      <!-- Contenido -->
      <main class="flex-1 px-4 py-8 overflow-y-auto overflow-x-hidden">
        {% block contenido %}{% endblock %}
      </main>
    </div>
  </div>

  <!-- Scripts -->
    <script>
      window.CATEGORIA_ESTANTES = {{ categoria_estantes | default({}) | tojson }};
    </script>
    <script>
      {% if movimientos is defined %}
        window.MOVIMIENTOS = {{ movimientos|tojson }};
      {% else %}
        window.MOVIMIENTOS = [];
      {% endif %}
    </script>
    <script src="{{ url_for('static', filename='js/recomendaciones.js') }}" defer></script>
    <script src="{{ url_for('static', filename='js/ventas.js') }}"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    <script src="{{ url_for('static', filename='js/historial.js') }}"></script>
    <script src="{{ url_for('static', filename='js/header.js') }}"></script>
    <script src="{{ url_for('static', filename='js/inventario.js') }}"></script>
    <script src="{{ url_for('static', filename='js/movimiento_inventario.js') }}"></script>
    <script src="{{ url_for('static', filename='js/estado.js') }}"></script>
    <script src="{{ url_for('static', filename='js/filtro.js') }}"></script>
    <script src="{{ url_for('static', filename='js/charts.js') }}"> </script>
    <script src="{{ url_for('static', filename='js/notificaciones.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Script de Auditoría -->
    <script src="{{ url_for('static', filename='js/auditoria.js') }}"></script>
    <script src="{{ url_for('static', filename='js/ia-icons.js') }}"></script>
    <script src="{{ url_for('static', filename='js/ia-recommendation.js') }}"></script>

</body>
</html>
